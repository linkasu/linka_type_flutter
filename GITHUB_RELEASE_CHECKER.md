# Проверка релизов GitHub - Инструкция

## Что реализовано

Создан модуль для автоматической проверки новых релизов на GitHub с возможностью предложения пользователю обновления.

## Основные компоненты

### 1. Модели данных (`lib/services/github_release/models/`)
- `GitHubRelease` - модель релиза с методами сравнения версий
- `GitHubAsset` - модель файлов релиза
- Автоматическая сериализация JSON

### 2. Сервис (`lib/services/github_release/github_release_service.dart`)
- Работа с GitHub API
- Кэширование времени последней проверки (24 часа)
- Сохранение пропущенных версий
- Открытие релизов в браузере

### 3. UI компоненты (`lib/services/github_release/widgets/`)
- `UpdateDialog` - диалог с предложением обновления
- `UpdateCheckWidget` - кнопка для ручной проверки в настройках

### 4. Менеджер (`lib/services/github_release/github_release_manager.dart`)
- Основной класс для управления проверкой обновлений
- `UpdateCheckerMixin` - миксин для автоматической проверки

## Интеграция в приложение

### Автоматическая проверка
Главный экран (`HomeScreen`) теперь использует `UpdateCheckerMixin`:
- Проверка запускается через 2 секунды после инициализации
- Проверяется только раз в 24 часа
- Показывается диалог только для стабильных релизов новее текущей версии

### Ручная проверка
В настройках добавлена кнопка "Проверить обновления":
- Доступна в разделе "Информация"
- Принудительная проверка без учета интервалов
- Показывает результат проверки

## Настройки по умолчанию

- Репозиторий: `aacidov/linka_type_flutter`
- Интервал проверки: 24 часа
- Проверяются только стабильные релизы (не draft, не prerelease)

## Функции диалога обновления

- Показ информации о новой версии
- Отображение описания релиза
- Кнопка "Открыть в браузере" - открывает страницу релиза
- Кнопка "Напомнить позже" - пропускает эту версию
- Кнопка "Отмена" - закрывает диалог

## Зависимости

Добавлены в `pubspec.yaml`:
- `package_info_plus: ^8.0.0` - получение версии приложения
- `url_launcher: ^6.3.0` - открытие ссылок в браузере

## Тестирование

Создан тест `test/github_release_test.dart`:
- Проверка сравнения версий
- Проверка определения стабильных релизов
- Поддержка версий с префиксом "v"

## Использование

### Для разработчиков

1. Модуль автоматически интегрирован в приложение
2. При запуске приложения проверка происходит автоматически
3. В настройках доступна ручная проверка

### Для пользователей

1. При наличии нового релиза появится диалог с предложением обновления
2. Можно открыть релиз в браузере для скачивания
3. Можно пропустить версию (больше не будет предлагаться)
4. В настройках можно проверить обновления вручную

## Особенности

- Работает без интернета (использует кэшированные данные)
- Не требует аутентификации в GitHub
- Учитывает лимиты GitHub API (60 запросов/час)
- Поддерживает все платформы Flutter
- Автоматическое определение версии приложения
